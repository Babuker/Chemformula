<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ChemFormula® – Pre-Formulation Assistant</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="style.css">

  <!-- Chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>

<header>
  <h1>ChemFormula®</h1>
  <p>Pre-Formulation Decision Support Tool</p>

  <select id="langSwitch">
    <option value="en" selected>EN</option>
    <option value="ar">AR</option>
  </select>
</header>

<main>

<section class="card">
  <h2>Active Ingredient</h2>
  <label>Name</label>
  <input id="apiName" type="text">

  <label>Dose per unit (mg)</label>
  <input id="apiDose" type="number">
</section>

<section class="card">
  <h2>Reference</h2>
  <select id="reference">
    <option>USP</option>
    <option>BP</option>
    <option>Ph.Eur</option>
  </select>
</section>

<section class="card">
  <h2>Dosage Form</h2>
  <select id="dosageForm">
    <option value="tablet">Tablet</option>
    <option value="capsule">Capsule</option>
    <option value="liquid">Liquid</option>
    <option value="dry_syrup">Dry Syrup</option>
  </select>
</section>

<section class="card">
  <h2>Formulation Strategy</h2>
  <select id="strategy">
    <option value="balanced">Balanced (Quality / Cost)</option>
    <option value="quality">Quality Focused</option>
    <option value="cost">Cost Optimized</option>
  </select>
</section>

<section class="card">
  <h2>Batch Size</h2>
  <input id="batchSize" type="number">
</section>

<button onclick="runFormulation()">Generate Formulation</button>

<section id="results" class="card hidden">

  <h2>Results</h2>

  <table id="resultTable">
    <thead>
      <tr>
        <th>Material</th>
        <th>Function</th>
        <th>% of unit</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <canvas id="pieChart"></canvas>

  <div id="batchInfo"></div>
  <div id="recommendations"></div>

  <button onclick="exportPDF()">Export Full Report (PDF)</button>

</section>

</main>

<script src="script.js"></script>
</body>
</html>
