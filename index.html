<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ChemFormula® | Global Chemical Formulation Tool</title>

<!-- Chart.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- JsBarcode CDN -->
<script src="https://cdn.jsdelivr.net/npm/jsbarcode/dist/JsBarcode.all.min.js"></script>

<link rel="stylesheet" href="style.css" />

</head>
<body>

<select id="langSelect" title="Change Language">
  <option value="en" selected>English</option>
  <option value="ar">العربية</option>
</select>

<div class="container" id="app">

  <header>
    <h1 id="title">ChemFormula® - Global Chemical Formulation Tool</h1>
  </header>

  <form id="form">

    <label for="apiName" id="labelApiName">Active Ingredient Name</label>
    <input type="text" id="apiName" placeholder="Enter active ingredient name" required/>

    <label for="apiAmount" id="labelApiAmount">Active Ingredient Amount (mg)</label>
    <input type="number" id="apiAmount" placeholder="e.g. 250" min="0" step="0.01" required/>

    <label for="referenceStandard" id="labelReference">Reference Standard</label>
    <select id="referenceStandard" required>
      <option value="USP">USP</option>
      <option value="BP">BP</option>
      <option value="EurPh">Eur.Ph</option>
    </select>

    <label for="dosageForm" id="labelDosageForm">Dosage Form</label>
    <select id="dosageForm" required>
      <option value="Tablet">Tablet</option>
      <option value="Coated Tablet">Coated Tablet</option>
      <option value="Liquid Syrup">Liquid Syrup</option>
      <option value="Dry Syrup">Dry Syrup</option>
      <option value="Capsule">Capsule</option>
    </select>

    <label for="formulationGoal" id="labelGoal">Formulation Goal</label>
    <select id="formulationGoal" required>
      <option value="Quality & Cost">Balance Quality & Cost</option>
      <option value="Quality Only">Quality Only</option>
      <option value="Cost Only">Cost Only</option>
    </select>

    <label for="releaseMechanism" id="labelRelease">Release Mechanism</label>
    <select id="releaseMechanism" required>
      <option value="Immediate Release">Immediate Release</option>
      <option value="Sustained Release">Sustained Release</option>
      <option value="Delayed Release">Delayed Release</option>
    </select>

    <label for="excipientsMode" id="labelExcipientsMode">Excipients Selection Mode</label>
    <select id="excipientsMode" required>
      <option value="auto" selected>Automatic</option>
      <option value="manual">Manual</option>
    </select>

    <div id="manualExcipientsContainer" style="display:none;">
      <label for="manualExcipients" id="labelManualExcipients">Enter excipients manually (one per line):</label>
      <textarea id="manualExcipients" placeholder="Name, Role, Cost per Kg, Min %, Max %"></textarea>
    </div>

    <label for="batchSize" id="labelBatchSize">Batch Size (units)</label>
    <input type="number" id="batchSize" placeholder="e.g. 10000" min="1" required />

    <button type="submit" id="calculateBtn">Calculate Formulation</button>
  </form>

  <section id="results" style="display:none;">
    <h2 id="resultsTitle">Results</h2>

    <div id="batchInfo"></div>

    <table id="resultTable">
      <thead>
        <tr>
          <th id="thName">Name</th>
          <th id="thRole">Role</th>
          <th id="thQuantity">Quantity (mg)</th>
          <th id="thPercent">Percentage (%)</th>
          <th id="thCost">Cost per Kg ($)</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <canvas id="pieChart"></canvas>

    <svg id="barcode"></svg>

    <div id="recommendations"></div>
  </section>

</div>

<script src="script.js"></script>
</body>
</html>
